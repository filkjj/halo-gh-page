(this["webpackJsonphalo-technical-test"]=this["webpackJsonphalo-technical-test"]||[]).push([[0],{55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),c=n(10),u=n.n(c),i=n(5),a=n(4),s=n(2),d=n.n(s),l=n(6),j=n(7),f=n.n(j),b="GET_TODOS",p="DELETE_TODO",O="UPDATE_TODO_STATUS",h="ADD_NEW_TODO",v="DELETE_COMPLETED_TODOS",D="MARK_ALL_COMPLETE",x=function(t){return{type:p,toDoID:t}},m=function(t,e){return{type:O,toDoID:t,updatedToDo:e}},T=function(t){return{type:h,newToDo:t}},g=function(t){return{type:D,toDoList:t}},y=function(t){return function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.put("/todos/".concat(t.id),t);case 3:n(m(t.id,t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error in todo reducer, updateTodoStatus",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},k=n(1),w=function(t){t.itemID;var e=t.buttonClassName,n=t.reducerAction,r=t.textToDisplay,o=void 0===r?"":r;return Object(k.jsx)("div",{className:e,children:Object(k.jsx)("button",{onClick:function(){return n()},children:o})})},L=function(t){var e=t.toDoItem,n=Object(a.b)(),o=e.content,c=Object(r.useState)(!1),u=Object(i.a)(c,2),s=u[0],d=u[1],l=Object(r.useState)(o),j=Object(i.a)(l,2),f=j[0],b=j[1];return s?Object(k.jsx)("input",{type:"text",value:f,onChange:function(t){return b(t.target.value)},onKeyDown:function(t){return function(t){if("Enter"===t.key){var r=e;r.content=t.target.value,n(y(r)),d(!1),t.preventDefault(),t.stopPropagation()}"Escape"===t.key&&(d(!1),t.preventDefault(),t.stopPropagation())}(t)}}):Object(k.jsx)("div",{onDoubleClick:function(){return d(!0)},children:f})},C=(n(55),function(t){var e=t.itemToDo,n=Object(a.b)(),o=e.id,c=e.isDone,u=Object(r.useState)("hide"),s=Object(i.a)(u,2),j=s[0],b=s[1];return Object(k.jsxs)("div",{className:"singletodo single--todo--".concat(c?"completed":"uncompleted"),onMouseEnter:function(){return b("show")},onMouseLeave:function(){return b("hide")},children:[Object(k.jsx)(w,{itemID:o,buttonClassName:"button__marker buttonMarked--".concat(c?"completed":"uncompleted"),reducerAction:function(){var t=e;t.isDone=!c,n(y(t))},textToDisplay:"a"}),Object(k.jsx)(L,{toDoItem:e}),Object(k.jsx)(w,{itemID:o,buttonClassName:"button__delete__toDo button--delete--".concat(j),reducerAction:function(){return n((t=o,function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/todos/".concat(t));case 3:n(x(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error in todo reducer, deleteTo",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));var t},textToDisplay:"X"})]})}),E=(n(56),function(t){var e=t.toDoList;return e.length>0?Object(k.jsx)("div",{className:"todoitems",children:e.map((function(t){return Object(k.jsx)("div",{children:Object(k.jsx)(C,{itemToDo:t})},"itemToDo_".concat(t.id))}))}):Object(k.jsx)("div",{children:"Add some todos!"})}),_=(n(57),function(t){var e=t.toDoList,n=Object(r.useState)(""),o=Object(i.a)(n,2),c=o[0],u=o[1],s=Object(a.b)(),j=function(t){var e;t.preventDefault(),s((e=c,function(){var t=Object(l.a)(d.a.mark((function t(n){var r,o,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={content:e,isDone:!1},t.next=4,f.a.post("/todos/",r);case 4:o=t.sent,c=o.data,n(T(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error in todo reducer, addNewTodo",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),u("")};return Object(k.jsxs)("div",{className:"newtodosinput",children:[e.length>0?Object(k.jsx)("button",{onClick:function(){return s(function(t){return function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.forEach(function(){var t=Object(l.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isDone=!0,t.next=3,f.a.put("/todos/".concat(e.id),e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log(t),n(g(t))}catch(r){console.log("error in todo reducer, markAllComplete",r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},children:"V"}):Object(k.jsx)(k.Fragment,{}),Object(k.jsx)("form",{onSubmit:function(t){return j(t)},children:Object(k.jsx)("input",{type:"text",value:c,onChange:function(t){return u(t.target.value)}})})]})}),A=function(t){var e=t.numTodos,n=t.setNumTodos,o=t.toDoList;return Object(r.useEffect)((function(){n(o.reduce((function(t,e){return e.isDone||t++,t}),0))}),[o]),Object(k.jsxs)("div",{children:[e," items left"]})},S=(n(58),function(t){var e=t.numTodos,n=t.toDoList,r=Object(a.b)();return e!==n.length?Object(k.jsx)("div",{children:Object(k.jsx)("button",{onClick:function(){return r(function(t){return function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.reduce((function(t,e){return e.isDone&&t.push(e.id),t}),[]).forEach(function(){var t=Object(l.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.delete("/todos/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n({type:v})}catch(r){console.log("error in todo reducer, clearCompletedToDos",r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(n))},children:"Clear Completed"})}):Object(k.jsx)("div",{className:"delete__completed__placeholder",children:"Clear Completed"})}),N=(n(59),function(t){var e=t.toDoList,n=t.setFilterdList,o=t.setIsFiltering,c=Object(r.useState)(0),u=Object(i.a)(c,2),a=u[0],s=u[1],d=function(t){"Active"===t?(n(l(!1)),o(!0)):"Completed"===t?(n(l(!0)),o(!0)):o(!1)},l=function(t){return e.filter((function(e){return e.isDone===t}))};return Object(k.jsxs)("div",{className:"filterList",children:[Object(k.jsx)("div",{children:Object(k.jsx)(A,{numTodos:a,setNumTodos:s,toDoList:e})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{onClick:function(){return d("All")},children:"All"}),Object(k.jsx)("button",{onClick:function(){return d("Active")},children:"Active"}),Object(k.jsx)("button",{onClick:function(){return d("Completed")},children:"Completed"})]}),Object(k.jsx)("div",{children:Object(k.jsx)(S,{numTodos:a,toDoList:e})})]})}),I=(n(60),function(){var t=Object(a.b)(),e=Object(a.c)((function(t){return t.toDos})),n=Object(r.useState)(!1),o=Object(i.a)(n,2),c=o[0],u=o[1],s=Object(r.useState)([]),j=Object(i.a)(s,2),p=j[0],O=j[1];return Object(r.useEffect)((function(){t(function(){var t=Object(l.a)(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/todos");case 3:n=t.sent,r=n.data,e({type:b,toDoData:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error in todo reducer, getToDos",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{children:"todos"}),Object(k.jsxs)("div",{className:"mainscreen",children:[Object(k.jsx)(_,{toDoList:e}),c?Object(k.jsx)(E,{toDoList:p}):Object(k.jsx)(E,{toDoList:e}),Object(k.jsx)(N,{toDoList:e,setFilterdList:O,setIsFiltering:u})]})]})}),M=n(9),F=n(24),P=n(25),J=n(26),K=n(15),R=Object(M.combineReducers)({toDos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return e.toDoData.sort((function(t,e){return t.id>e.id}));case p:return t.filter((function(t){return t.id!==e.toDoID}));case O:return t.reduce((function(t,n){return n.id===e.toDoID?t.push(e.updatedToDo):t.push(n),t}),[]);case h:return[].concat(Object(K.a)(t),[e.newToDo]);case v:return t.filter((function(t){return!t.isDone}));case D:return Object(K.a)(e.toDoList);default:return t}}}),U=Object(J.composeWithDevTools)(Object(M.applyMiddleware)(P.a,Object(F.createLogger)({collapsed:!0}))),W=Object(M.createStore)(R,U);u.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(a.a,{store:W,children:Object(k.jsx)(I,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.c2c5e5dc.chunk.js.map