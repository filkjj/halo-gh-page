(this["webpackJsonphalo-technical-test"]=this["webpackJsonphalo-technical-test"]||[]).push([[0],{55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),c=n(10),a=n.n(c),u=n(5),i=n(4),s=n(2),l=n.n(s),d=n(6),p=n(7),j=n.n(p),f="GET_TODOS",b="DELETE_TODO",h="UPDATE_TODO_STATUS",O="ADD_NEW_TODO",v="DELETE_COMPLETED_TODOS",D="MARK_ALL_COMPLETE",m=function(t){return{type:b,toDoID:t}},x=function(t,e){return{type:h,toDoID:t,updatedToDo:e}},g=function(t){return{type:O,newToDo:t}},T=function(t){return{type:D,toDoList:t}},k=function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put("https://halo-interview-challenge.herokuapp.com/todos/".concat(t.id),t);case 3:n(x(t.id,t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error in todo reducer, updateTodoStatus",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},w=n(1),y=function(t){t.itemID;var e=t.buttonClassName,n=t.reducerAction,r=t.textToDisplay,o=void 0===r?"":r;return Object(w.jsx)("div",{className:e,children:Object(w.jsx)("button",{onClick:function(){return n()},children:o})})},L=function(t){var e=t.toDoItem,n=Object(i.b)(),o=e.content,c=Object(r.useState)(!1),a=Object(u.a)(c,2),s=a[0],l=a[1],d=Object(r.useState)(o),p=Object(u.a)(d,2),j=p[0],f=p[1];return s?Object(w.jsx)("input",{type:"text",value:j,onChange:function(t){return f(t.target.value)},onKeyDown:function(t){return function(t){if("Enter"===t.key){var r=e;r.content=t.target.value,n(k(r)),l(!1),t.preventDefault(),t.stopPropagation()}"Escape"===t.key&&(l(!1),t.preventDefault(),t.stopPropagation())}(t)}}):Object(w.jsx)("div",{onDoubleClick:function(){return l(!0)},children:j})},C=(n(55),function(t){var e=t.itemToDo,n=Object(i.b)(),o=e.id,c=e.isDone,a=Object(r.useState)("hide"),s=Object(u.a)(a,2),p=s[0],f=s[1];return Object(w.jsxs)("div",{className:"singletodo single--todo--".concat(c?"completed":"uncompleted"),onMouseEnter:function(){return f("show")},onMouseLeave:function(){return f("hide")},children:[Object(w.jsx)(y,{itemID:o,buttonClassName:"button__marker buttonMarked--".concat(c?"completed":"uncompleted"),reducerAction:function(){var t=e;t.isDone=!c,n(k(t))},textToDisplay:"a"}),Object(w.jsx)(L,{toDoItem:e}),Object(w.jsx)(y,{itemID:o,buttonClassName:"button__delete__toDo button--delete--".concat(p),reducerAction:function(){return n((t=o,function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("https://halo-interview-challenge.herokuapp.com/todos/".concat(t));case 3:n(m(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error in todo reducer, deleteTo",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));var t},textToDisplay:"X"})]})}),E=(n(56),function(t){var e=t.toDoList;return e.length>0?Object(w.jsx)("div",{className:"todoitems",children:e.map((function(t){return Object(w.jsx)("div",{children:Object(w.jsx)(C,{itemToDo:t})},"itemToDo_".concat(t.id))}))}):Object(w.jsx)("div",{children:"Add some todos!"})}),_=(n(57),function(t){var e=t.toDoList,n=Object(r.useState)(""),o=Object(u.a)(n,2),c=o[0],a=o[1],s=Object(i.b)(),p=function(t){var e;t.preventDefault(),s((e=c,function(){var t=Object(d.a)(l.a.mark((function t(n){var r,o,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={content:e,isDone:!1},t.next=4,j.a.post("https://halo-interview-challenge.herokuapp.com/todos/",r);case 4:o=t.sent,c=o.data,n(g(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("error in todo reducer, addNewTodo",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),a("")};return Object(w.jsxs)("div",{className:"newtodosinput",children:[e.length>0?Object(w.jsx)("button",{onClick:function(){return s(function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.forEach(function(){var t=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isDone=!0,t.next=3,j.a.put("https://halo-interview-challenge.herokuapp.com/todos/".concat(e.id),e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log(t),n(T(t))}catch(r){console.log("error in todo reducer, markAllComplete",r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))},children:"V"}):Object(w.jsx)(w.Fragment,{}),Object(w.jsx)("form",{onSubmit:function(t){return p(t)},children:Object(w.jsx)("input",{type:"text",value:c,onChange:function(t){return a(t.target.value)}})})]})}),A=function(t){var e=t.numTodos,n=t.setNumTodos,o=t.toDoList;return Object(r.useEffect)((function(){n(o.reduce((function(t,e){return e.isDone||t++,t}),0))}),[o]),Object(w.jsxs)("div",{children:[e," items left"]})},S=(n(58),function(t){var e=t.numTodos,n=t.toDoList,r=Object(i.b)();return e!==n.length?Object(w.jsx)("div",{children:Object(w.jsx)("button",{onClick:function(){return r(function(t){return function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.reduce((function(t,e){return e.isDone&&t.push(e.id),t}),[]).forEach(function(){var t=Object(d.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.delete("https://halo-interview-challenge.herokuapp.com/todos/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n({type:v})}catch(r){console.log("error in todo reducer, clearCompletedToDos",r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(n))},children:"Clear Completed"})}):Object(w.jsx)("div",{className:"delete__completed__placeholder",children:"Clear Completed"})}),N=(n(59),function(t){var e=t.toDoList,n=t.setFilterdList,o=t.setIsFiltering,c=Object(r.useState)(0),a=Object(u.a)(c,2),i=a[0],s=a[1],l=function(t){"Active"===t?(n(d(!1)),o(!0)):"Completed"===t?(n(d(!0)),o(!0)):o(!1)},d=function(t){return e.filter((function(e){return e.isDone===t}))};return Object(w.jsxs)("div",{className:"filterList",children:[Object(w.jsx)("div",{children:Object(w.jsx)(A,{numTodos:i,setNumTodos:s,toDoList:e})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{onClick:function(){return l("All")},children:"All"}),Object(w.jsx)("button",{onClick:function(){return l("Active")},children:"Active"}),Object(w.jsx)("button",{onClick:function(){return l("Completed")},children:"Completed"})]}),Object(w.jsx)("div",{children:Object(w.jsx)(S,{numTodos:i,toDoList:e})})]})}),I=(n(60),function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.toDos})),n=Object(r.useState)(!1),o=Object(u.a)(n,2),c=o[0],a=o[1],s=Object(r.useState)([]),p=Object(u.a)(s,2),b=p[0],h=p[1];return Object(r.useEffect)((function(){t(function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("https://halo-interview-challenge.herokuapp.com/todos");case 3:n=t.sent,r=n.data,e({type:f,toDoData:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error in todo reducer, getToDos",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"todos"}),Object(w.jsxs)("div",{className:"mainscreen",children:[Object(w.jsx)(_,{toDoList:e}),c?Object(w.jsx)(E,{toDoList:b}):Object(w.jsx)(E,{toDoList:e}),Object(w.jsx)(N,{toDoList:e,setFilterdList:h,setIsFiltering:a})]})]})}),M=n(9),F=n(24),P=n(25),J=n(26),K=n(15),R=Object(M.combineReducers)({toDos:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return e.toDoData.sort((function(t,e){return t.id>e.id}));case b:return t.filter((function(t){return t.id!==e.toDoID}));case h:return t.reduce((function(t,n){return n.id===e.toDoID?t.push(e.updatedToDo):t.push(n),t}),[]);case O:return[].concat(Object(K.a)(t),[e.newToDo]);case v:return t.filter((function(t){return!t.isDone}));case D:return Object(K.a)(e.toDoList);default:return t}}}),U=Object(J.composeWithDevTools)(Object(M.applyMiddleware)(P.a,Object(F.createLogger)({collapsed:!0}))),W=Object(M.createStore)(R,U);a.a.render(Object(w.jsx)(o.a.StrictMode,{children:Object(w.jsx)(i.a,{store:W,children:Object(w.jsx)(I,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.608fcdf8.chunk.js.map